<div class="container-fluid py-5">
  <div class="row justify-content-center">
    <div class="col-12 col-md-8 col-lg-6">
      <mat-card class="shadow-sm">
        <mat-card-header>
          <mat-card-title>Currency Converter</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <form [formGroup]="converterForm" (ngSubmit)="convert()" class="d-flex flex-column">
            <mat-form-field appearance="fill" class="mb-3">
              <mat-label>From Currency</mat-label>
              <mat-select formControlName="fromCurrency">
                <mat-option *ngFor="let currency of currencies" [value]="currency">
                  {{ currency }}
                </mat-option>
              </mat-select>
              <mat-error *ngIf="converterForm.get('fromCurrency')?.invalid">
                Currency is required.
              </mat-error>
            </mat-form-field>

            <mat-form-field appearance="fill" class="mb-3">
              <mat-label>To Currency</mat-label>
              <mat-select formControlName="toCurrency">
                <mat-option *ngFor="let currency of currencies" [value]="currency">
                  {{ currency }}
                </mat-option>
              </mat-select>
              <mat-error *ngIf="converterForm.get('toCurrency')?.invalid">
                Currency is required.
              </mat-error>
            </mat-form-field>

            <mat-form-field appearance="fill" class="mb-3">
              <mat-label>Amount</mat-label>
              <input matInput type="number" formControlName="amount" min="0.01">
              <mat-error *ngIf="converterForm.get('amount')?.invalid">
                Amount must be a positive number.
              </mat-error>
            </mat-form-field>

            <button mat-raised-button color="primary" type="submit" [disabled]="converterForm.invalid || isLoading">
              <span *ngIf="!isLoading">Convert</span>
              <mat-spinner *ngIf="isLoading" [diameter]="24" color="warn"></mat-spinner>
            </button>
          </form>

          <div *ngIf="convertedAmount !== null" class="mt-4 text-center">
            <h3>Result:</h3>
            <p>{{ converterForm.get('amount')?.value }} {{ converterForm.get('fromCurrency')?.value }} =
              **{{ convertedAmount | number:'1.2-2' }} {{ converterForm.get('toCurrency')?.value }}**
            </p>
          </div>
        </mat-card-content>
      </mat-card>
    </div>
  </div>
</div>