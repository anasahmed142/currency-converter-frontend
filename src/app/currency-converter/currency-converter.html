<div class="container-fluid py-5">
  <div class="row justify-content-center">
    <div class="col-12 col-md-8 col-lg-6">
      <mat-card class="shadow-sm elegant-card">
        <mat-card-header>
          <mat-card-title>Currency Converter</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <form [formGroup]="converterForm" (ngSubmit)="convert()" class="row g-3 align-items-end">
            <div class="col-md-4">
              <label class="form-label fw-bold">From</label>
              <div class="dropdown w-100">
                <button class="btn btn-light dropdown-toggle w-100 text-start elegant-dropdown" type="button"
                  id="fromCurrencyDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                  {{ converterForm.get('fromCurrency')?.value || 'Select' }}
                </button>
                <ul class="dropdown-menu w-100" aria-labelledby="fromCurrencyDropdown">
                  <li *ngFor="let currency of currencies">
                    <a class="dropdown-item" (click)="converterForm.get('fromCurrency')?.setValue(currency)">
                      {{ currency }}
                    </a>
                  </li>
                </ul>
              </div>
            </div>
            <div class="col-md-4">
              <label class="form-label fw-bold">To</label>
              <div class="dropdown w-100">
                <button class="btn btn-light dropdown-toggle w-100 text-start elegant-dropdown" type="button"
                  id="toCurrencyDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                  {{ converterForm.get('toCurrency')?.value || 'Select' }}
                </button>
                <ul class="dropdown-menu w-100" aria-labelledby="toCurrencyDropdown">
                  <li *ngFor="let currency of currencies">
                    <a class="dropdown-item" (click)="converterForm.get('toCurrency')?.setValue(currency)">
                      {{ currency }}
                    </a>
                  </li>
                </ul>
              </div>
            </div>
            <div class="col-md-3">
              <label class="form-label fw-bold">Amount</label>
              <input type="number" class="form-control" formControlName="amount" min="0.01" />
            </div>
            <div class="col-md-1 d-grid">
              <button mat-raised-button color="primary" type="submit" [disabled]="converterForm.invalid || isLoading">
                <span *ngIf="!isLoading">Go</span>
                <mat-spinner *ngIf="isLoading" [diameter]="20" color="warn"></mat-spinner>
              </button>
            </div>
          </form>
          <div *ngIf="convertedAmount !== null" class="mt-4 text-center">
            <h3>Result:</h3>
            <p>
              {{ converterForm.get('amount')?.value }}
              {{ converterForm.get('fromCurrency')?.value }} =
              <strong>{{ convertedAmount | number : '1.2-2' }}</strong>
              {{ converterForm.get('toCurrency')?.value }}
            </p>
          </div>
        </mat-card-content>
      </mat-card>
    </div>
  </div>
</div>